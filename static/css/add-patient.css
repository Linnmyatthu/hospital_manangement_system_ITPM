/* RESET & BASE */
* { box-sizing: border-box; }

/* THEME VARIABLES */
html[data-theme="light"] {
  --bg-page:#f5f3ed; --bg-main:#ffffff; --bg-hero:#e8f5d3; --bg-feature:#f5f3ed;
  --bg-card:#ffffff; --bg-sidebar:#1d3b32; --bg-pill:#d9edcf;
  --text-main:#2d3a2e; --text-muted:#5a6a5f; --text-invert:#ffffff;
  --accent:#3d5941; --accent-soft:#6c8f5f; --accent-pill:#325037;
  --border-subtle:#dde3d8; --shadow-soft:0 18px 40px rgba(0,0,0,0.06);
}

html[data-theme="dark"] {
  --bg-page:#020813; --bg-main:#030b18; --bg-hero:#07172a; --bg-feature:#050f1f;
  --bg-card:#04101f; --bg-sidebar:#020915; --bg-pill:#0b253d;
  --text-main:#f5f7fb; --text-muted:#96a3b8; --text-invert:#ffffff;
  --accent:#2f93e0; --accent-soft:#44b2ff; --accent-pill:#163c5e;
  --border-subtle:#18263b; --shadow-soft:0 18px 40px rgba(0,0,0,0.5);
}

body {
  margin:0;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:var(--bg-page);
  color:var(--text-main);
}

/* APP LAYOUT */
.app-shell {
  display:grid;
  grid-template-columns:260px minmax(0,1fr);
  min-height:100vh;
}

/* SIDEBAR */
.sidebar {
  background:var(--bg-sidebar);
  color:var(--text-invert);
  padding:1.5rem 1.4rem 1.6rem;
  display:flex;
  flex-direction:column;
  transition: transform 0.25s ease, opacity 0.2s ease;
}

.sidebar-closed {
  transform: translateX(-100%);
  opacity: 0;
}

.logo { 
  display:flex;
  align-items:center;
  gap:0.75rem;
  margin-bottom:2rem; 
}

.logo-mark {
  width: 34px;
  height: 34px;
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 2rem;
}

.logo-text{ 
  font-weight:600;
  letter-spacing:0.04em; 
}

.nav-main,.nav-secondary{ 
  display:flex;
  flex-direction:column;
  gap:0.3rem; 
}

.nav-main{ margin-bottom:2rem; }
.nav-secondary{ margin-top:auto; }

.nav-item{
  display:flex;
  align-items:center;
  gap:0.7rem;
  padding:0.55rem 0.7rem;
  border-radius:10px;
  color:rgba(255,255,255,0.8);
  text-decoration:none;
  font-size:0.9rem;
  transition: background 0.2s ease;
}

.nav-item:hover{ background:rgba(255,255,255,0.08); }
.nav-item.active{ background:rgba(255,255,255,0.12); }
.nav-icon{ 
  width:26px;
  display:inline-flex;
  justify-content:center; 
}

/* MAIN AREA */
.main-area {
  background:var(--bg-page);
  display:grid;
  grid-template-rows:auto 1fr auto auto;
  padding:1.5rem 1.8rem 1.8rem;
}

/* TOP BAR */
.top-bar{ margin-bottom:1.2rem; }

.top-left-row{ 
  display:flex;
  align-items:center;
  gap:0.8rem; 
}

.page-title{ 
  margin:0 0 0.2rem;
  font-size:1.4rem; 
}

.page-subtitle{ 
  margin:0;
  font-size:0.9rem;
  color:var(--text-muted); 
}

.back-link{
  display:inline-block;
  margin-bottom:0.2rem;
  font-size:0.85rem;
  color:var(--accent);
  text-decoration:none;
  transition: color 0.2s ease;
}

.back-link:hover{ 
  text-decoration:underline;
  color:var(--accent-soft); 
}



/* FORM GRID */
.form-grid{
  display:grid;
  grid-template-columns:minmax(0,1fr) minmax(0,1fr);
  gap:1.2rem;
  margin-bottom:1rem;
}

.card{
  background:var(--bg-card);
  border-radius:18px;
  padding:1.2rem 1.4rem;
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
}

.card h2{ 
  margin:0 0 0.8rem;
  font-size:1.05rem; 
}

/* FORM ELEMENTS */
.form-row{
  margin-bottom:0.9rem;
}

.form-row label{
  display:block;
  margin-bottom:0.3rem;
  font-size:0.9rem;
  font-weight:500;
}

.form-row input,
.form-row select,
.form-row textarea{
  width:100%;
  padding:0.5rem 0.7rem;
  border-radius:8px;
  border:1px solid var(--border-subtle);
  background:var(--bg-main);
  color:var(--text-main);
  font-size:0.9rem;
  font-family:inherit;
  transition: border-color 0.2s ease, background-color 0.2s ease;
}

.form-row input:focus,
.form-row select:focus,
.form-row textarea:focus{
  outline:none;
  border-color:var(--accent);
}

.form-row textarea{ 
  resize:vertical; 
}

.form-row-group{
  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  gap:0.8rem;
  margin-bottom:0.9rem;
}

/* WARD GENDER VALIDATION */
.ward-info {
  font-size: 0.8rem;
  color: var(--text-muted);
  font-weight: normal;
  font-style: italic;
}

.error-message {
  display: none;
  color: #dc3545;
  font-size: 0.85rem;
  margin-top: 0.5rem;
  font-weight: 600;
  padding: 0.6rem 0.8rem;
  background: #f8d7da;
  border-radius: 8px;
  border-left: 4px solid #dc3545;
}

.info-message {
  display: none;
  color: #0c5460;
  font-size: 0.85rem;
  margin-top: 0.5rem;
  font-weight: 500;
  padding: 0.6rem 0.8rem;
  background: #d1ecf1;
  border-radius: 8px;
  border-left: 4px solid #17a2b8;
}

.error-message.show,
.info-message.show {
  display: block;
  animation: slideIn 0.3s ease;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Ward validation states */
#ward.invalid {
  border-color: #dc3545;
  background-color: rgba(220, 53, 69, 0.05);
}

#ward.valid {
  border-color: #28a745;
  background-color: rgba(40, 167, 69, 0.05);
}

/* ACTION BAR */
.action-bar{
  display:flex;
  justify-content:flex-end;
  gap:0.8rem;
  margin-bottom:1rem;
}

.primary-btn{
  padding:0.55rem 1.4rem;
  border-radius:999px;
  border:none;
  background:var(--accent);
  color:var(--text-invert);
  font-size:0.9rem;
  font-weight: 600;
  cursor:pointer;
  transition: background 0.2s ease, transform 0.2s ease;
}

.primary-btn:hover{ 
  background:var(--accent-soft);
  transform: translateY(-2px);
}

.secondary-btn{
  padding:0.55rem 1.4rem;
  border-radius:999px;
  border:1px solid var(--border-subtle);
  background:var(--bg-main);
  color:var(--text-main);
  font-size:0.9rem;
  font-weight: 600;
  cursor:pointer;
  transition: border-color 0.2s ease;
}

.secondary-btn:hover{ 
  border-color:var(--accent-soft); 
}

/* SUCCESS ALERT */
.success-alert{
  display:none;
  align-items:center;
  gap:0.6rem;
  padding:0.8rem 1.2rem;
  border-radius:12px;
  background:#d9edcf;
  color:#325037;
  font-size:0.9rem;
  margin-bottom:1rem;
  animation: slideIn 0.3s ease;
}

.alert-icon{
  width:20px;
  height:20px;
  border-radius:50%;
  background:#325037;
  color:#d9edcf;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size: 0.85rem;
}

/* FOOTER */
.site-footer{
  margin-top:1.4rem;
  background:var(--bg-sidebar);
  color:rgba(255,255,255,0.9);
  border-radius:18px;
  padding:1.2rem 1.5rem 1rem;
  display:grid;
  grid-template-columns:2fr 1.3fr 1.3fr 1.4fr;
  gap:1.2rem;
  box-shadow:var(--shadow-soft);
}

.footer-column h4{ 
  margin:0 0 0.4rem;
  font-size:0.95rem; 
}

.footer-column p,
.footer-column a{
  margin:0;
  font-size:0.85rem;
  color:rgba(255,255,255,0.8);
  text-decoration:none;
}

.footer-column a:hover{ 
  text-decoration:underline; 
}

.footer-social .social-buttons{ 
  display:flex;
  gap:0.4rem;
  margin-top:0.4rem; 
}

.social-circle{
  width:30px;
  height:30px;
  border-radius:999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.2);
  text-decoration:none;
  transition: all 0.2s ease;
}

.social-icon{ 
  width:16px;
  height:16px;
  fill:#ffffff; 
}

.social-circle:hover{
  background:rgba(255,255,255,0.15);
  border-color:rgba(255,255,255,0.5);
}

.footer-bottom{
  grid-column:1 / -1;
  margin-top:0.8rem;
  font-size:0.8rem;
  opacity:0.8;
}

/* RESPONSIVE */
@media (max-width:960px){
  .app-shell{ 
    grid-template-columns:1fr; 
  }
  
  .sidebar{ 
    position: fixed;
    inset: 0 auto 0 0;
    width: 230px;
    z-index: 40;
    transform: translateX(-100%);
    opacity: 0;
  }
  
  .sidebar-open { 
    transform: translateX(0); 
    opacity: 1; 
  }
  
  .menu-toggle{ 
    display:inline-flex; 
  }
  
  .main-area{ 
    padding:1rem 1.1rem 1.3rem; 
  }
  
  .form-grid{ 
    grid-template-columns:1fr; 
  }
  
  .site-footer{ 
    grid-template-columns:1fr; 
  }
  
  .action-bar {
    flex-direction: column-reverse;
  }
  
  .primary-btn,
  .secondary-btn {
    width: 100%;
  }
}

@media (max-width: 640px) {
  .form-row-group {
    grid-template-columns: 1fr;
  }
  
  .page-title {
    font-size: 1.2rem;
  }
  
  .page-subtitle {
    font-size: 0.85rem;
  }
}
